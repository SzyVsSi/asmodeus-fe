import{f as Z,k as q,r as b,l as M}from"./index-BWPXJGId.js";import{w as G,i as F,a as W,b as D,I as Q}from"./useTranslation-4bWvycBG.js";var _={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};const U=Z(_);var R=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function z(e){var n={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},t=e.match(/<\/?([^\s]+?)[/\s>]/);if(t&&(n.name=t[1],(U[t[1]]||e.charAt(e.length-2)==="/")&&(n.voidElement=!0),n.name.startsWith("!--"))){var a=e.indexOf("-->");return{type:"comment",comment:a!==-1?e.slice(4,a):""}}for(var y=new RegExp(R),s=null;(s=y.exec(e))!==null;)if(s[0].trim())if(s[1]){var o=s[1].trim(),h=[o,""];o.indexOf("=")>-1&&(h=o.split("=")),n.attrs[h[0]]=h[1],y.lastIndex--}else s[2]&&(n.attrs[s[2]]=s[3].trim().substring(1,s[3].length-1));return n}var ee=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,te=/^\s*$/,ne=Object.create(null);function J(e,n){switch(n.type){case"text":return e+n.content;case"tag":return e+="<"+n.name+(n.attrs?function(t){var a=[];for(var y in t)a.push(y+'="'+t[y]+'"');return a.length?" "+a.join(" "):""}(n.attrs):"")+(n.voidElement?"/>":">"),n.voidElement?e:e+n.children.reduce(J,"")+"</"+n.name+">";case"comment":return e+"<!--"+n.comment+"-->"}}var se={parse:function(e,n){n||(n={}),n.components||(n.components=ne);var t,a=[],y=[],s=-1,o=!1;if(e.indexOf("<")!==0){var h=e.indexOf("<");a.push({type:"text",content:h===-1?e:e.substring(0,h)})}return e.replace(ee,function(l,x){if(o){if(l!=="</"+t.name+">")return;o=!1}var g,v=l.charAt(1)!=="/",A=l.startsWith("<!--"),$=x+l.length,p=e.charAt($);if(A){var T=z(l);return s<0?(a.push(T),a):((g=y[s]).children.push(T),a)}if(v&&(s++,(t=z(l)).type==="tag"&&n.components[t.name]&&(t.type="component",o=!0),t.voidElement||o||!p||p==="<"||t.children.push({type:"text",content:e.slice($,e.indexOf("<",$))}),s===0&&a.push(t),(g=y[s-1])&&g.children.push(t),y[s]=t),(!v||t.voidElement)&&(s>-1&&(t.voidElement||t.name===l.slice(2,-1))&&(s--,t=s===-1?a:y[s]),!o&&p!=="<"&&p)){g=s===-1?a:y[s].children;var i=e.indexOf("<",$),f=e.slice($,i===-1?void 0:i);te.test(f)&&(f=" "),(i>-1&&s+g.length>=0||f!==" ")&&g.push({type:"text",content:f})}}),a},stringify:function(e){return e.reduce(function(n,t){return n+J("",t)},"")}};const K=(e,n)=>{var a;if(!e)return!1;const t=((a=e.props)==null?void 0:a.children)??e.children;return n?t.length>0:!!t},P=e=>{var t,a;if(!e)return[];const n=((t=e.props)==null?void 0:t.children)??e.children;return(a=e.props)!=null&&a.i18nIsDynamicList?O(n):n},re=e=>Array.isArray(e)&&e.every(b.isValidElement),O=e=>Array.isArray(e)?e:[e],ae=(e,n)=>{const t={...n};return t.props=Object.assign(e.props,n.props),t},X=(e,n)=>{if(!e)return"";let t="";const a=O(e),y=n!=null&&n.transSupportBasicHtmlNodes?n.transKeepBasicHtmlNodesFor??[]:[];return a.forEach((s,o)=>{if(F(s))t+=`${s}`;else if(b.isValidElement(s)){const{props:h,type:l}=s,x=Object.keys(h).length,g=y.indexOf(l)>-1,v=h.children;if(!v&&g&&!x)t+=`<${l}/>`;else if(!v&&(!g||x)||h.i18nIsDynamicList)t+=`<${o}></${o}>`;else if(g&&x===1&&F(v))t+=`<${l}>${v}</${l}>`;else{const A=X(v,n);t+=`<${o}>${A}</${o}>`}}else if(s===null)W("Trans: the passed in value is invalid - seems you passed in a null child.");else if(D(s)){const{format:h,...l}=s,x=Object.keys(l);if(x.length===1){const g=h?`${x[0]}, ${h}`:x[0];t+=`{{${g}}}`}else W("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",s)}else W("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",s)}),t},ie=(e,n,t,a,y,s)=>{if(n==="")return[];const o=a.transKeepBasicHtmlNodesFor||[],h=n&&new RegExp(o.map(i=>`<${i}`).join("|")).test(n);if(!e&&!h&&!s)return[n];const l={},x=i=>{O(i).forEach(c=>{F(c)||(K(c)?x(P(c)):D(c)&&!b.isValidElement(c)&&Object.assign(l,c))})};x(e);const g=se.parse(`<0>${n}</0>`),v={...l,...y},A=(i,f,c)=>{var m;const E=P(i),j=p(E,f.children,c);return re(E)&&j.length===0||(m=i.props)!=null&&m.i18nIsDynamicList?E:j},$=(i,f,c,E,j)=>{i.dummy?(i.children=f,c.push(b.cloneElement(i,{key:E},j?void 0:f))):c.push(...b.Children.map([i],m=>{const r={...m.props};return delete r.i18nIsDynamicList,b.createElement(m.type,{...r,key:E,ref:m.ref},j?null:f)}))},p=(i,f,c)=>{const E=O(i);return O(f).reduce((m,r,C)=>{var V,I;const w=((I=(V=r.children)==null?void 0:V[0])==null?void 0:I.content)&&t.services.interpolator.interpolate(r.children[0].content,v,t.language);if(r.type==="tag"){let k=E[parseInt(r.name,10)];c.length===1&&!k&&(k=c[0][r.name]),k||(k={});const d=Object.keys(r.attrs).length!==0?ae({props:r.attrs},k):k,N=b.isValidElement(d),S=N&&K(r,!0)&&!r.voidElement,H=h&&D(d)&&d.dummy&&!N,B=D(e)&&Object.hasOwnProperty.call(e,r.name);if(F(d)){const u=t.services.interpolator.interpolate(d,v,t.language);m.push(u)}else if(K(d)||S){const u=A(d,r,c);$(d,u,m,C)}else if(H){const u=p(E,r.children,c);$(d,u,m,C)}else if(Number.isNaN(parseFloat(r.name)))if(B){const u=A(d,r,c);$(d,u,m,C,r.voidElement)}else if(a.transSupportBasicHtmlNodes&&o.indexOf(r.name)>-1)if(r.voidElement)m.push(b.createElement(r.name,{key:`${r.name}-${C}`}));else{const u=p(E,r.children,c);m.push(b.createElement(r.name,{key:`${r.name}-${C}`},u))}else if(r.voidElement)m.push(`<${r.name} />`);else{const u=p(E,r.children,c);m.push(`<${r.name}>${u}</${r.name}>`)}else if(D(d)&&!N){const u=r.children[0]?w:null;u&&m.push(u)}else $(d,w,m,C,r.children.length!==1||!w)}else if(r.type==="text"){const k=a.transWrapTextNodes,d=s?a.unescape(t.services.interpolator.interpolate(r.content,v,t.language)):t.services.interpolator.interpolate(r.content,v,t.language);k?m.push(b.createElement(k,{key:`${r.name}-${C}`},d)):m.push(d)}return m},[])},T=p([{dummy:!0,children:e||[]}],g,O(e||[]));return P(T[0])};function le({children:e,count:n,parent:t,i18nKey:a,context:y,tOptions:s={},values:o,defaults:h,components:l,ns:x,i18n:g,t:v,shouldUnescape:A,...$}){var k,d,N,S,H,B;const p=g||M();if(!p)return G("You will need to pass in an i18next instance by using i18nextReactModule"),e;const T=v||p.t.bind(p)||(u=>u),i={...q(),...(k=p.options)==null?void 0:k.react};let f=x||T.ns||((d=p.options)==null?void 0:d.defaultNS);f=F(f)?[f]:f||["translation"];const c=X(e,i),E=h||c||i.transEmptyNodeValue||a,{hashTransKey:j}=i,m=a||(j?j(c||E):c||E);(S=(N=p.options)==null?void 0:N.interpolation)!=null&&S.defaultVariables&&(o=o&&Object.keys(o).length>0?{...o,...p.options.interpolation.defaultVariables}:{...p.options.interpolation.defaultVariables});const r=o||n!==void 0&&!((B=(H=p.options)==null?void 0:H.interpolation)!=null&&B.alwaysFormat)||!e?s.interpolation:{interpolation:{...s.interpolation,prefix:"#$?",suffix:"?$#"}},C={...s,context:y||s.context,count:n,...o,...r,defaultValue:E,ns:f},w=m?T(m,C):E;l&&Object.keys(l).forEach(u=>{l[u].key||(l[u]=b.cloneElement(l[u],{key:u}));const L=l[u];if(typeof L.type=="function"||!L.props||!L.props.children||w.indexOf(`${u}/>`)<0&&w.indexOf(`${u} />`)<0)return;function Y(){return b.createElement(b.Fragment,null,L)}l[u]=b.createElement(Y)});const V=ie(l||e,w,p,i,C,A),I=t??i.defaultTransParent;return I?b.createElement(I,$,V):V}function ue({children:e,count:n,parent:t,i18nKey:a,context:y,tOptions:s={},values:o,defaults:h,components:l,ns:x,i18n:g,t:v,shouldUnescape:A,...$}){var c;const{i18n:p,defaultNS:T}=b.useContext(Q)||{},i=g||p||M(),f=v||(i==null?void 0:i.t.bind(i));return le({children:e,count:n,parent:t,i18nKey:a,context:y,tOptions:s,values:o,defaults:h,components:l,ns:x||(f==null?void 0:f.ns)||T||((c=i==null?void 0:i.options)==null?void 0:c.defaultNS),i18n:i,t:v,shouldUnescape:A,...$})}export{ue as T};
//# sourceMappingURL=Trans-DOWApc2A.js.map
