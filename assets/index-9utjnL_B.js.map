{"version":3,"file":"index-9utjnL_B.js","sources":["../../src/pages/home/index.tsx"],"sourcesContent":["import { Routes } from '@/core/router/routes';\nimport { gameSessionsModule } from '@/core/services/apiInitializer';\nimport { SessionStorageService } from '@/util/sessionStorage';\nimport clsx from 'clsx';\nimport { type SubmitHandler, useForm } from 'react-hook-form';\nimport { useNavigate } from 'react-router-dom';\n\ntype Inputs = {\n\ttoken: string;\n};\n\nconst HomePage = () => {\n\tconst navigate = useNavigate();\n\tconst { useVerifyToken } = gameSessionsModule;\n\tconst { verifyToken, error, isPending } = useVerifyToken();\n\tconst {\n\t\tregister,\n\t\thandleSubmit,\n\t\tformState: { errors },\n\t} = useForm<Inputs>();\n\n\tconst onSubmit: SubmitHandler<Inputs> = async ({ token }) => {\n\t\tawait verifyToken(token);\n\t\tconsole.log('token correct');\n\t\tSessionStorageService.setItem('token', token);\n\t\tnavigate(Routes.TheDeed);\n\t};\n\n\treturn (\n\t\t<div className='h-screen flex flex-col justify-center items-center bg-gray-300'>\n\t\t\t<div className='bg-white p-8 shadow-lg rounded-lg w-3/4 md:w-2/4'>\n\t\t\t\t<h1 className='text-3xl font-bold mb-6 text-center'>Asmodeus</h1>\n\t\t\t\t<p className='text-2xl mb-6 text-center'>\n\t\t\t\t\tHello Player! Please enter the code provided to you in the game in\n\t\t\t\t\torder to begin. Do not close this tab, as you'll need it to progress\n\t\t\t\t\tfurther.\n\t\t\t\t</p>\n\t\t\t\t{(errors.token || error) && (\n\t\t\t\t\t<p className='text-red-500 mb-6 text-center'>\n\t\t\t\t\t\tPlease enter a valid game code.\n\t\t\t\t\t</p>\n\t\t\t\t)}\n\t\t\t\t<form onSubmit={handleSubmit(onSubmit)}>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tclassName='border p-2 w-full mb-4 rounded text-center'\n\t\t\t\t\t\tplaceholder='Enter game code'\n\t\t\t\t\t\taria-label='Enter game code'\n\t\t\t\t\t\t{...register('token', { required: true, minLength: 6 })}\n\t\t\t\t\t/>\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\tclassName={clsx(\n\t\t\t\t\t\t\t'w-full p-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors',\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t'opacity-50': isPending,\n\t\t\t\t\t\t\t\t'cursor-not-allowed': isPending,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{isPending ? 'Verifying...' : 'Verify'}\n\t\t\t\t\t</button>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default HomePage;\n"],"names":["HomePage","navigate","useNavigate","useVerifyToken","gameSessionsModule","verifyToken","error","isPending","register","handleSubmit","errors","useForm","onSubmit","token","SessionStorageService","Routes","jsxs","jsx","clsx"],"mappings":"iKAWA,MAAMA,EAAW,IAAM,CACtB,MAAMC,EAAWC,IACX,CAAE,eAAAC,CAAmB,EAAAC,EACrB,CAAE,YAAAC,EAAa,MAAAC,EAAO,UAAAC,GAAcJ,EAAe,EACnD,CACL,SAAAK,EACA,aAAAC,EACA,UAAW,CAAE,OAAAC,CAAO,GACjBC,EAAgB,EAEdC,EAAkC,MAAO,CAAE,MAAAC,KAAY,CAC5D,MAAMR,EAAYQ,CAAK,EACvB,QAAQ,IAAI,eAAe,EACLC,EAAA,QAAQ,QAASD,CAAK,EAC5CZ,EAASc,EAAO,OAAO,CAAA,EAGxB,aACE,MAAI,CAAA,UAAU,iEACd,SAACC,EAAA,KAAA,MAAA,CAAI,UAAU,mDACd,SAAA,CAACC,EAAA,IAAA,KAAA,CAAG,UAAU,sCAAsC,SAAQ,WAAA,EAC3DA,EAAA,IAAA,IAAA,CAAE,UAAU,4BAA4B,SAIzC,mJAAA,GACEP,EAAO,OAASJ,UAChB,IAAE,CAAA,UAAU,gCAAgC,SAE7C,kCAAA,EAEAU,EAAA,KAAA,OAAA,CAAK,SAAUP,EAAaG,CAAQ,EACpC,SAAA,CAAAK,EAAA,IAAC,QAAA,CACA,KAAK,OACL,UAAU,6CACV,YAAY,kBACZ,aAAW,kBACV,GAAGT,EAAS,QAAS,CAAE,SAAU,GAAM,UAAW,EAAG,CAAA,CACvD,EACAS,EAAA,IAAC,SAAA,CACA,KAAK,SACL,UAAWC,EACV,gFACA,CACC,aAAcX,EACd,qBAAsBA,CACvB,CACD,EAEC,WAAY,eAAiB,QAAA,CAC/B,CAAA,EACD,CAAA,CACD,CAAA,CACD,CAAA,CAEF"}